"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/submit-quiz/route";
exports.ids = ["app/api/submit-quiz/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsubmit-quiz%2Froute&page=%2Fapi%2Fsubmit-quiz%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsubmit-quiz%2Froute.ts&appDir=%2Fhome%2Fclaiver%2Fprojetos%2Fquiz-ateneo%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fclaiver%2Fprojetos%2Fquiz-ateneo%2Fsrc&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsubmit-quiz%2Froute&page=%2Fapi%2Fsubmit-quiz%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsubmit-quiz%2Froute.ts&appDir=%2Fhome%2Fclaiver%2Fprojetos%2Fquiz-ateneo%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fclaiver%2Fprojetos%2Fquiz-ateneo%2Fsrc&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _home_claiver_projetos_quiz_ateneo_src_app_api_submit_quiz_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/submit-quiz/route.ts */ \"(rsc)/./app/api/submit-quiz/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/submit-quiz/route\",\n        pathname: \"/api/submit-quiz\",\n        filename: \"route\",\n        bundlePath: \"app/api/submit-quiz/route\"\n    },\n    resolvedPagePath: \"/home/claiver/projetos/quiz-ateneo/src/app/api/submit-quiz/route.ts\",\n    nextConfigOutput,\n    userland: _home_claiver_projetos_quiz_ateneo_src_app_api_submit_quiz_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/submit-quiz/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzdWJtaXQtcXVpeiUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGc3VibWl0LXF1aXolMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZzdWJtaXQtcXVpeiUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGY2xhaXZlciUyRnByb2pldG9zJTJGcXVpei1hdGVuZW8lMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRmhvbWUlMkZjbGFpdmVyJTJGcHJvamV0b3MlMkZxdWl6LWF0ZW5lbyUyRnNyYyZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNtQjtBQUNoRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL2F0ZW5lby1xdWl6Lz8yOWJkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9ob21lL2NsYWl2ZXIvcHJvamV0b3MvcXVpei1hdGVuZW8vc3JjL2FwcC9hcGkvc3VibWl0LXF1aXovcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3N1Ym1pdC1xdWl6L3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc3VibWl0LXF1aXpcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3N1Ym1pdC1xdWl6L3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL2hvbWUvY2xhaXZlci9wcm9qZXRvcy9xdWl6LWF0ZW5lby9zcmMvYXBwL2FwaS9zdWJtaXQtcXVpei9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9zdWJtaXQtcXVpei9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsubmit-quiz%2Froute&page=%2Fapi%2Fsubmit-quiz%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsubmit-quiz%2Froute.ts&appDir=%2Fhome%2Fclaiver%2Fprojetos%2Fquiz-ateneo%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fclaiver%2Fprojetos%2Fquiz-ateneo%2Fsrc&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/submit-quiz/route.ts":
/*!**************************************!*\
  !*** ./app/api/submit-quiz/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! nodemailer */ \"(rsc)/./node_modules/nodemailer/lib/nodemailer.js\");\n\n\nasync function POST(request) {\n    try {\n        let body;\n        try {\n            body = await request.json();\n        } catch (parseError) {\n            console.error(\"Erro ao ler JSON do formul\\xe1rio:\", parseError);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"N\\xe3o foi poss\\xedvel processar os dados enviados. Verifique sua conex\\xe3o e tente novamente.\"\n            }, {\n                status: 400\n            });\n        }\n        console.log(\"Requisi\\xe7\\xe3o recebida em /api/submit-quiz:\", body);\n        const { name, email, phone, profile, quizAnswers } = body;\n        // Validação básica\n        if (!name || !email || !phone || !profile || !Array.isArray(quizAnswers) || quizAnswers.length === 0) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Todos os campos s\\xe3o obrigat\\xf3rios e o quiz deve ser conclu\\xeddo.\"\n            }, {\n                status: 400\n            });\n        }\n        // Configuração do transportador de email\n        const smtpPort = parseInt(process.env.SMTP_PORT || \"465\", 10);\n        const transporter = nodemailer__WEBPACK_IMPORTED_MODULE_1__.createTransport({\n            host: process.env.SMTP_HOST || \"smtp.hostinger.com\",\n            port: smtpPort,\n            secure: smtpPort === 465,\n            auth: {\n                user: process.env.SMTP_USER || \"envio@ateneointeriores.com.br\",\n                pass: process.env.SMTP_PASS\n            }\n        });\n        // Mapear respostas para texto legível\n        const questionsText = [\n            \"Qual \\xe9 sua prioridade ao renovar um ambiente?\",\n            \"Qual sua faixa de investimento para m\\xf3veis e decora\\xe7\\xe3o?\",\n            \"Que tipo de acabamento mais te atrai?\",\n            \"Com que frequ\\xeancia voc\\xea compra m\\xf3veis de alto padr\\xe3o?\",\n            \"Como voc\\xea v\\xea a exclusividade em m\\xf3veis?\",\n            \"Como voc\\xea prefere escolher m\\xf3veis e decora\\xe7\\xe3o?\",\n            \"Qual seu prazo ideal para receber os m\\xf3veis?\",\n            \"Pergunta adicional (dados extras)\"\n        ];\n        const optionsText = [\n            [\n                \"Qualidade e durabilidade acima de tudo\",\n                \"Design exclusivo e sofisticado\",\n                \"Pre\\xe7o acess\\xedvel e funcionalidade\"\n            ],\n            [\n                \"At\\xe9 R$ 15.000\",\n                \"Entre R$ 15.000 e R$ 40.000\",\n                \"Acima de R$ 40.000\"\n            ],\n            [\n                \"Madeira nobre e materiais naturais\",\n                \"Couro leg\\xedtimo e tecidos premium\",\n                \"Materiais simples e funcionais\"\n            ],\n            [\n                \"Frequentemente, busco sempre o melhor\",\n                \"Algumas vezes, quando vale o investimento\",\n                \"Raramente ou nunca\"\n            ],\n            [\n                \"Prefiro pe\\xe7as \\xfanicas e exclusivas\",\n                \"Busco equil\\xedbrio entre exclusividade e pre\\xe7o\",\n                \"Priorizo op\\xe7\\xf5es mais acess\\xedveis\"\n            ],\n            [\n                \"Com consultoria especializada e projeto personalizado\",\n                \"Pesquiso bastante e escolho com orienta\\xe7\\xe3o profissional\",\n                \"Prefiro escolher sozinho(a) em lojas tradicionais\"\n            ],\n            [\n                \"Aceito esperar por pe\\xe7as sob medida e exclusivas\",\n                \"Prefiro pronta-entrega de linha selecionada\",\n                \"Preciso de entrega imediata e pr\\xe1tica\"\n            ],\n            [\n                \"Dados extras - op\\xe7\\xe3o 1\",\n                \"Dados extras - op\\xe7\\xe3o 2\",\n                \"Dados extras - op\\xe7\\xe3o 3\"\n            ]\n        ];\n        // Construir respostas formatadas\n        let answersFormatted = \"\";\n        quizAnswers.forEach((score, index)=>{\n            // Verificar se o índice existe nos arrays\n            if (index >= questionsText.length || index >= optionsText.length) {\n                console.warn(`Índice ${index} fora do range dos arrays. questionsText: ${questionsText.length}, optionsText: ${optionsText.length}`);\n                answersFormatted += `${index + 1}. Pergunta não encontrada\\n   Resposta: Score ${score}\\n\\n`;\n                return;\n            }\n            const questionText = questionsText[index];\n            const currentOptions = optionsText[index];\n            let selectedOption = \"\";\n            // Verificar se currentOptions existe e é um array\n            if (!currentOptions || !Array.isArray(currentOptions)) {\n                console.warn(`Opções não encontradas para índice ${index}`);\n                answersFormatted += `${index + 1}. ${questionText}\\n   Resposta: Score ${score} (opções não disponíveis)\\n\\n`;\n                return;\n            }\n            // Encontrar a opção baseada no score\n            if (score === 3) {\n                selectedOption = currentOptions.find((opt)=>opt.includes(\"qualidade\") || opt.includes(\"Acima\") || opt.includes(\"nobre\") || opt.includes(\"Frequentemente\") || opt.includes(\"\\xfanica\") || opt.includes(\"consultoria\") || opt.includes(\"sob medida\")) || currentOptions[0];\n            } else if (score === 2) {\n                selectedOption = currentOptions.find((opt)=>opt.includes(\"Entre\") || opt.includes(\"Algumas\") || opt.includes(\"equil\\xedbrio\") || opt.includes(\"Pesquiso\") || opt.includes(\"pronta-entrega\")) || currentOptions[1];\n            } else {\n                selectedOption = currentOptions.find((opt)=>opt.includes(\"acess\\xedvel\") || opt.includes(\"At\\xe9\") || opt.includes(\"simples\") || opt.includes(\"Raramente\") || opt.includes(\"sozinho\") || opt.includes(\"imediata\")) || currentOptions[2];\n            }\n            answersFormatted += `${index + 1}. ${questionText}\\n   Resposta: ${selectedOption} (Score: ${score})\\n\\n`;\n        });\n        // Calcular perfil por extenso\n        const totalScore = quizAnswers.reduce((sum, score)=>sum + score, 0);\n        const averageScore = totalScore / quizAnswers.length;\n        let profileText = \"\";\n        if (averageScore >= 2.5) {\n            profileText = \"Alto Padr\\xe3o (Cliente Premium)\";\n        } else if (averageScore >= 1.8) {\n            profileText = \"M\\xe9dio Padr\\xe3o (Cliente Equilibrado)\";\n        } else {\n            profileText = \"Baixo Padr\\xe3o (Cliente Potencial)\";\n        }\n        // Template do email\n        const emailHtml = `\n      <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n        <div style=\"background: linear-gradient(135deg, #5C2C1D, #7A3726); padding: 30px; text-align: center;\">\n          <h1 style=\"color: white; margin: 0; font-size: 28px;\">Novo Lead - Quiz Ateneo</h1>\n        </div>\n        \n        <div style=\"padding: 30px; background: #f9f9f9;\">\n          <h2 style=\"color: #5C2C1D; margin-bottom: 20px;\">📋 Dados do Cliente</h2>\n          <div style=\"background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px;\">\n            <p><strong>Nome:</strong> ${name}</p>\n            <p><strong>Email:</strong> ${email}</p>\n            <p><strong>Telefone:</strong> ${phone}</p>\n            <p><strong>Perfil Identificado:</strong> <span style=\"color: #5C2C1D; font-weight: bold;\">${profileText}</span></p>\n            <p><strong>Score Médio:</strong> ${averageScore.toFixed(2)}/3.0</p>\n          </div>\n\n          <h2 style=\"color: #5C2C1D; margin-bottom: 20px;\">📊 Respostas Detalhadas</h2>\n          <div style=\"background: white; padding: 20px; border-radius: 8px;\">\n            <pre style=\"white-space: pre-wrap; font-family: Arial, sans-serif; font-size: 14px; line-height: 1.6;\">${answersFormatted}</pre>\n          </div>\n\n          <div style=\"background: #5C2C1D; color: white; padding: 20px; border-radius: 8px; margin-top: 20px; text-align: center;\">\n            <h3 style=\"margin: 0 0 10px 0;\">🎯 Recomendação de Abordagem</h3>\n            <p style=\"margin: 0; font-size: 16px;\">\n              ${profile === \"alto\" ? \"Cliente com alto potencial! Priorize consultoria premium e pe\\xe7as exclusivas.\" : profile === \"medio\" ? \"Cliente equilibrado. Foque em qualidade com bom custo-benef\\xedcio.\" : \"Cliente potencial. Apresente op\\xe7\\xf5es acess\\xedveis e inspire gradualmente.\"}\n            </p>\n          </div>\n        </div>\n        \n        <div style=\"background: #2c2c2c; color: white; padding: 20px; text-align: center;\">\n          <p style=\"margin: 0;\">Ateneo Interiores - Sistema de Quiz</p>\n          <p style=\"margin: 5px 0 0 0; font-size: 12px; opacity: 0.8;\">Processado em ${new Date().toLocaleString(\"pt-BR\")}</p>\n        </div>\n      </div>\n    `;\n        // Preparar dados para Google Sheets\n        const sheetsData = {\n            name,\n            email,\n            phone,\n            profile: profileText,\n            quizAnswers: quizAnswers,\n            quizSnapshot: {\n                averageScore: averageScore.toFixed(2),\n                profileText: profileText,\n                totalScore: totalScore\n            },\n            client: {\n                userAgent: request.headers.get(\"user-agent\") || \"Unknown\",\n                ip: request.headers.get(\"x-forwarded-for\") || request.headers.get(\"x-real-ip\") || \"Unknown\"\n            },\n            timestamp: new Date().toISOString()\n        };\n        // Funções de envio paralelas\n        const promises = [];\n        // 1. Enviar email\n        if (process.env.SMTP_USER && process.env.SMTP_PASS) {\n            promises.push(transporter.sendMail({\n                from: process.env.SMTP_FROM || \"Quiz Ateneo <envio@ateneointeriores.com.br>\",\n                to: process.env.ADMIN_EMAIL || \"mkt@ateneointeriores.com.br\",\n                subject: `🎯 Novo Lead - ${profileText} - ${name}`,\n                html: emailHtml\n            }));\n        }\n        // 2. Enviar para Google Sheets (se configurado)\n        if (process.env.GOOGLE_APPS_SCRIPT_URL) {\n            promises.push(fetch(process.env.GOOGLE_APPS_SCRIPT_URL, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(sheetsData)\n            }));\n        }\n        // Executar envios em paralelo\n        const results = await Promise.allSettled(promises);\n        // Verificar resultados\n        let emailSent = false;\n        let sheetsSent = false;\n        let errors = [];\n        results.forEach((result, index)=>{\n            if (result.status === \"fulfilled\") {\n                if (index === 0) emailSent = true;\n                if (index === 1) sheetsSent = true;\n            } else {\n                errors.push(`Erro no envio ${index === 0 ? \"email\" : \"Google Sheets\"}: ${result.reason}`);\n            }\n        });\n        // Log para análise\n        console.log(\"Lead processado:\", {\n            name,\n            email,\n            phone,\n            profile: profileText,\n            averageScore,\n            emailSent,\n            sheetsSent,\n            timestamp: new Date().toISOString(),\n            errors: errors.length > 0 ? errors : undefined\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            message: \"Dados enviados com sucesso!\",\n            details: {\n                emailSent,\n                sheetsSent,\n                errors: errors.length > 0 ? errors : undefined\n            }\n        }, {});\n    } catch (error) {\n        console.error(\"Erro ao processar formul\\xe1rio:\", error);\n        const errorMessage = error instanceof Error ? error.message : \"Erro interno do servidor\";\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: errorMessage\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFFBQVFBLE9BQU9uRSxNQUFNLEdBQUcsSUFBSW1FLFNBQVNHO1FBQ3ZDO1FBRUEsT0FBT3hGLGtGQUFZQSxDQUFDSyxJQUFJLENBQ3RCO1lBQ0VvRixTQUFTO1lBQ1RDLFNBQVM7WUFDVEMsU0FBUztnQkFDUFI7Z0JBQ0FDO2dCQUNBQyxRQUFRQSxPQUFPbkUsTUFBTSxHQUFHLElBQUltRSxTQUFTRztZQUN2QztRQUNGLEdBQ0EsQ0FBRztJQUVQLEVBQUUsT0FBT2hGLE9BQU87UUFDZEQsUUFBUUMsS0FBSyxDQUFDLG9DQUFpQ0E7UUFDL0MsTUFBTW9GLGVBQ0pwRixpQkFBaUJxRixRQUFRckYsTUFBTWtGLE9BQU8sR0FBRztRQUMzQyxPQUFPMUYsa0ZBQVlBLENBQUNLLElBQUksQ0FDdEI7WUFBRUcsT0FBT29GO1FBQWEsR0FDdEI7WUFBRW5GLFFBQVE7UUFBTTtJQUVwQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXRlbmVvLXF1aXovLi9hcHAvYXBpL3N1Ym1pdC1xdWl6L3JvdXRlLnRzP2MxOWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuaW1wb3J0IG5vZGVtYWlsZXIgZnJvbSBcIm5vZGVtYWlsZXJcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBsZXQgYm9keTogYW55O1xuICAgIHRyeSB7XG4gICAgICBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgfSBjYXRjaCAocGFyc2VFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gbGVyIEpTT04gZG8gZm9ybXVsw6FyaW86XCIsIHBhcnNlRXJyb3IpO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7XG4gICAgICAgICAgZXJyb3I6XG4gICAgICAgICAgICBcIk7Do28gZm9pIHBvc3PDrXZlbCBwcm9jZXNzYXIgb3MgZGFkb3MgZW52aWFkb3MuIFZlcmlmaXF1ZSBzdWEgY29uZXjDo28gZSB0ZW50ZSBub3ZhbWVudGUuXCIsXG4gICAgICAgIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAsICB9XG4gICAgICApO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcIlJlcXVpc2nDp8OjbyByZWNlYmlkYSBlbSAvYXBpL3N1Ym1pdC1xdWl6OlwiLCBib2R5KTtcbiAgICBjb25zdCB7IG5hbWUsIGVtYWlsLCBwaG9uZSwgcHJvZmlsZSwgcXVpekFuc3dlcnMgfSA9IGJvZHk7XG5cbiAgICAvLyBWYWxpZGHDp8OjbyBiw6FzaWNhXG4gICAgaWYgKFxuICAgICAgIW5hbWUgfHxcbiAgICAgICFlbWFpbCB8fFxuICAgICAgIXBob25lIHx8XG4gICAgICAhcHJvZmlsZSB8fFxuICAgICAgIUFycmF5LmlzQXJyYXkocXVpekFuc3dlcnMpIHx8XG4gICAgICBxdWl6QW5zd2Vycy5sZW5ndGggPT09IDBcbiAgICApIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAge1xuICAgICAgICAgIGVycm9yOlxuICAgICAgICAgICAgXCJUb2RvcyBvcyBjYW1wb3Mgc8OjbyBvYnJpZ2F0w7NyaW9zIGUgbyBxdWl6IGRldmUgc2VyIGNvbmNsdcOtZG8uXCIsXG4gICAgICAgIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAsICB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIENvbmZpZ3VyYcOnw6NvIGRvIHRyYW5zcG9ydGFkb3IgZGUgZW1haWxcbiAgICBjb25zdCBzbXRwUG9ydCA9IHBhcnNlSW50KHByb2Nlc3MuZW52LlNNVFBfUE9SVCB8fCBcIjQ2NVwiLCAxMCk7XG4gICAgY29uc3QgdHJhbnNwb3J0ZXIgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydCh7XG4gICAgICBob3N0OiBwcm9jZXNzLmVudi5TTVRQX0hPU1QgfHwgXCJzbXRwLmhvc3Rpbmdlci5jb21cIixcbiAgICAgIHBvcnQ6IHNtdHBQb3J0LFxuICAgICAgc2VjdXJlOiBzbXRwUG9ydCA9PT0gNDY1LFxuICAgICAgYXV0aDoge1xuICAgICAgICB1c2VyOiBwcm9jZXNzLmVudi5TTVRQX1VTRVIgfHwgXCJlbnZpb0BhdGVuZW9pbnRlcmlvcmVzLmNvbS5iclwiLFxuICAgICAgICBwYXNzOiBwcm9jZXNzLmVudi5TTVRQX1BBU1MsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gTWFwZWFyIHJlc3Bvc3RhcyBwYXJhIHRleHRvIGxlZ8OtdmVsXG4gICAgY29uc3QgcXVlc3Rpb25zVGV4dCA9IFtcbiAgICAgIFwiUXVhbCDDqSBzdWEgcHJpb3JpZGFkZSBhbyByZW5vdmFyIHVtIGFtYmllbnRlP1wiLFxuICAgICAgXCJRdWFsIHN1YSBmYWl4YSBkZSBpbnZlc3RpbWVudG8gcGFyYSBtw7N2ZWlzIGUgZGVjb3Jhw6fDo28/XCIsXG4gICAgICBcIlF1ZSB0aXBvIGRlIGFjYWJhbWVudG8gbWFpcyB0ZSBhdHJhaT9cIixcbiAgICAgIFwiQ29tIHF1ZSBmcmVxdcOqbmNpYSB2b2PDqiBjb21wcmEgbcOzdmVpcyBkZSBhbHRvIHBhZHLDo28/XCIsXG4gICAgICBcIkNvbW8gdm9jw6ogdsOqIGEgZXhjbHVzaXZpZGFkZSBlbSBtw7N2ZWlzP1wiLFxuICAgICAgXCJDb21vIHZvY8OqIHByZWZlcmUgZXNjb2xoZXIgbcOzdmVpcyBlIGRlY29yYcOnw6NvP1wiLFxuICAgICAgXCJRdWFsIHNldSBwcmF6byBpZGVhbCBwYXJhIHJlY2ViZXIgb3MgbcOzdmVpcz9cIixcbiAgICAgIFwiUGVyZ3VudGEgYWRpY2lvbmFsIChkYWRvcyBleHRyYXMpXCIsIC8vIFBhcmEgY29icmlyIGNhc28gZGUgOCByZXNwb3N0YXNcbiAgICBdO1xuXG4gICAgY29uc3Qgb3B0aW9uc1RleHQgPSBbXG4gICAgICBbXG4gICAgICAgIFwiUXVhbGlkYWRlIGUgZHVyYWJpbGlkYWRlIGFjaW1hIGRlIHR1ZG9cIixcbiAgICAgICAgXCJEZXNpZ24gZXhjbHVzaXZvIGUgc29maXN0aWNhZG9cIixcbiAgICAgICAgXCJQcmXDp28gYWNlc3PDrXZlbCBlIGZ1bmNpb25hbGlkYWRlXCIsXG4gICAgICBdLFxuICAgICAgW1wiQXTDqSBSJCAxNS4wMDBcIiwgXCJFbnRyZSBSJCAxNS4wMDAgZSBSJCA0MC4wMDBcIiwgXCJBY2ltYSBkZSBSJCA0MC4wMDBcIl0sXG4gICAgICBbXG4gICAgICAgIFwiTWFkZWlyYSBub2JyZSBlIG1hdGVyaWFpcyBuYXR1cmFpc1wiLFxuICAgICAgICBcIkNvdXJvIGxlZ8OtdGltbyBlIHRlY2lkb3MgcHJlbWl1bVwiLFxuICAgICAgICBcIk1hdGVyaWFpcyBzaW1wbGVzIGUgZnVuY2lvbmFpc1wiLFxuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgXCJGcmVxdWVudGVtZW50ZSwgYnVzY28gc2VtcHJlIG8gbWVsaG9yXCIsXG4gICAgICAgIFwiQWxndW1hcyB2ZXplcywgcXVhbmRvIHZhbGUgbyBpbnZlc3RpbWVudG9cIixcbiAgICAgICAgXCJSYXJhbWVudGUgb3UgbnVuY2FcIixcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgIFwiUHJlZmlybyBwZcOnYXMgw7puaWNhcyBlIGV4Y2x1c2l2YXNcIixcbiAgICAgICAgXCJCdXNjbyBlcXVpbMOtYnJpbyBlbnRyZSBleGNsdXNpdmlkYWRlIGUgcHJlw6dvXCIsXG4gICAgICAgIFwiUHJpb3Jpem8gb3DDp8O1ZXMgbWFpcyBhY2Vzc8OtdmVpc1wiLFxuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgXCJDb20gY29uc3VsdG9yaWEgZXNwZWNpYWxpemFkYSBlIHByb2pldG8gcGVyc29uYWxpemFkb1wiLFxuICAgICAgICBcIlBlc3F1aXNvIGJhc3RhbnRlIGUgZXNjb2xobyBjb20gb3JpZW50YcOnw6NvIHByb2Zpc3Npb25hbFwiLFxuICAgICAgICBcIlByZWZpcm8gZXNjb2xoZXIgc296aW5obyhhKSBlbSBsb2phcyB0cmFkaWNpb25haXNcIixcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgIFwiQWNlaXRvIGVzcGVyYXIgcG9yIHBlw6dhcyBzb2IgbWVkaWRhIGUgZXhjbHVzaXZhc1wiLFxuICAgICAgICBcIlByZWZpcm8gcHJvbnRhLWVudHJlZ2EgZGUgbGluaGEgc2VsZWNpb25hZGFcIixcbiAgICAgICAgXCJQcmVjaXNvIGRlIGVudHJlZ2EgaW1lZGlhdGEgZSBwcsOhdGljYVwiLFxuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgXCJEYWRvcyBleHRyYXMgLSBvcMOnw6NvIDFcIixcbiAgICAgICAgXCJEYWRvcyBleHRyYXMgLSBvcMOnw6NvIDJcIiwgXG4gICAgICAgIFwiRGFkb3MgZXh0cmFzIC0gb3DDp8OjbyAzXCIsXG4gICAgICBdLFxuICAgIF07XG5cbiAgICAvLyBDb25zdHJ1aXIgcmVzcG9zdGFzIGZvcm1hdGFkYXNcbiAgICBsZXQgYW5zd2Vyc0Zvcm1hdHRlZCA9IFwiXCI7XG4gICAgcXVpekFuc3dlcnMuZm9yRWFjaCgoc2NvcmU6IG51bWJlciwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgLy8gVmVyaWZpY2FyIHNlIG8gw61uZGljZSBleGlzdGUgbm9zIGFycmF5c1xuICAgICAgaWYgKGluZGV4ID49IHF1ZXN0aW9uc1RleHQubGVuZ3RoIHx8IGluZGV4ID49IG9wdGlvbnNUZXh0Lmxlbmd0aCkge1xuICAgICAgICBjb25zb2xlLndhcm4oYMONbmRpY2UgJHtpbmRleH0gZm9yYSBkbyByYW5nZSBkb3MgYXJyYXlzLiBxdWVzdGlvbnNUZXh0OiAke3F1ZXN0aW9uc1RleHQubGVuZ3RofSwgb3B0aW9uc1RleHQ6ICR7b3B0aW9uc1RleHQubGVuZ3RofWApO1xuICAgICAgICBhbnN3ZXJzRm9ybWF0dGVkICs9IGAke2luZGV4ICsgMX0uIFBlcmd1bnRhIG7Do28gZW5jb250cmFkYVxcbiAgIFJlc3Bvc3RhOiBTY29yZSAke3Njb3JlfVxcblxcbmA7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcXVlc3Rpb25UZXh0ID0gcXVlc3Rpb25zVGV4dFtpbmRleF07XG4gICAgICBjb25zdCBjdXJyZW50T3B0aW9ucyA9IG9wdGlvbnNUZXh0W2luZGV4XTtcbiAgICAgIGxldCBzZWxlY3RlZE9wdGlvbiA9IFwiXCI7XG5cbiAgICAgIC8vIFZlcmlmaWNhciBzZSBjdXJyZW50T3B0aW9ucyBleGlzdGUgZSDDqSB1bSBhcnJheVxuICAgICAgaWYgKCFjdXJyZW50T3B0aW9ucyB8fCAhQXJyYXkuaXNBcnJheShjdXJyZW50T3B0aW9ucykpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBPcMOnw7VlcyBuw6NvIGVuY29udHJhZGFzIHBhcmEgw61uZGljZSAke2luZGV4fWApO1xuICAgICAgICBhbnN3ZXJzRm9ybWF0dGVkICs9IGAke2luZGV4ICsgMX0uICR7cXVlc3Rpb25UZXh0fVxcbiAgIFJlc3Bvc3RhOiBTY29yZSAke3Njb3JlfSAob3DDp8O1ZXMgbsOjbyBkaXNwb27DrXZlaXMpXFxuXFxuYDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBFbmNvbnRyYXIgYSBvcMOnw6NvIGJhc2VhZGEgbm8gc2NvcmVcbiAgICAgIGlmIChzY29yZSA9PT0gMykge1xuICAgICAgICBzZWxlY3RlZE9wdGlvbiA9XG4gICAgICAgICAgY3VycmVudE9wdGlvbnMuZmluZChcbiAgICAgICAgICAgIChvcHQpID0+XG4gICAgICAgICAgICAgIG9wdC5pbmNsdWRlcyhcInF1YWxpZGFkZVwiKSB8fFxuICAgICAgICAgICAgICBvcHQuaW5jbHVkZXMoXCJBY2ltYVwiKSB8fFxuICAgICAgICAgICAgICBvcHQuaW5jbHVkZXMoXCJub2JyZVwiKSB8fFxuICAgICAgICAgICAgICBvcHQuaW5jbHVkZXMoXCJGcmVxdWVudGVtZW50ZVwiKSB8fFxuICAgICAgICAgICAgICBvcHQuaW5jbHVkZXMoXCLDum5pY2FcIikgfHxcbiAgICAgICAgICAgICAgb3B0LmluY2x1ZGVzKFwiY29uc3VsdG9yaWFcIikgfHxcbiAgICAgICAgICAgICAgb3B0LmluY2x1ZGVzKFwic29iIG1lZGlkYVwiKVxuICAgICAgICAgICkgfHwgY3VycmVudE9wdGlvbnNbMF07XG4gICAgICB9IGVsc2UgaWYgKHNjb3JlID09PSAyKSB7XG4gICAgICAgIHNlbGVjdGVkT3B0aW9uID1cbiAgICAgICAgICBjdXJyZW50T3B0aW9ucy5maW5kKFxuICAgICAgICAgICAgKG9wdCkgPT5cbiAgICAgICAgICAgICAgb3B0LmluY2x1ZGVzKFwiRW50cmVcIikgfHxcbiAgICAgICAgICAgICAgb3B0LmluY2x1ZGVzKFwiQWxndW1hc1wiKSB8fFxuICAgICAgICAgICAgICBvcHQuaW5jbHVkZXMoXCJlcXVpbMOtYnJpb1wiKSB8fFxuICAgICAgICAgICAgICBvcHQuaW5jbHVkZXMoXCJQZXNxdWlzb1wiKSB8fFxuICAgICAgICAgICAgICBvcHQuaW5jbHVkZXMoXCJwcm9udGEtZW50cmVnYVwiKVxuICAgICAgICAgICkgfHwgY3VycmVudE9wdGlvbnNbMV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxlY3RlZE9wdGlvbiA9XG4gICAgICAgICAgY3VycmVudE9wdGlvbnMuZmluZChcbiAgICAgICAgICAgIChvcHQpID0+XG4gICAgICAgICAgICAgIG9wdC5pbmNsdWRlcyhcImFjZXNzw612ZWxcIikgfHxcbiAgICAgICAgICAgICAgb3B0LmluY2x1ZGVzKFwiQXTDqVwiKSB8fFxuICAgICAgICAgICAgICBvcHQuaW5jbHVkZXMoXCJzaW1wbGVzXCIpIHx8XG4gICAgICAgICAgICAgIG9wdC5pbmNsdWRlcyhcIlJhcmFtZW50ZVwiKSB8fFxuICAgICAgICAgICAgICBvcHQuaW5jbHVkZXMoXCJzb3ppbmhvXCIpIHx8XG4gICAgICAgICAgICAgIG9wdC5pbmNsdWRlcyhcImltZWRpYXRhXCIpXG4gICAgICAgICAgKSB8fCBjdXJyZW50T3B0aW9uc1syXTtcbiAgICAgIH1cblxuICAgICAgYW5zd2Vyc0Zvcm1hdHRlZCArPSBgJHtcbiAgICAgICAgaW5kZXggKyAxXG4gICAgICB9LiAke3F1ZXN0aW9uVGV4dH1cXG4gICBSZXNwb3N0YTogJHtzZWxlY3RlZE9wdGlvbn0gKFNjb3JlOiAke3Njb3JlfSlcXG5cXG5gO1xuICAgIH0pO1xuXG4gICAgLy8gQ2FsY3VsYXIgcGVyZmlsIHBvciBleHRlbnNvXG4gICAgY29uc3QgdG90YWxTY29yZSA9IHF1aXpBbnN3ZXJzLnJlZHVjZShcbiAgICAgIChzdW06IG51bWJlciwgc2NvcmU6IG51bWJlcikgPT4gc3VtICsgc2NvcmUsXG4gICAgICAwXG4gICAgKTtcbiAgICBjb25zdCBhdmVyYWdlU2NvcmUgPSB0b3RhbFNjb3JlIC8gcXVpekFuc3dlcnMubGVuZ3RoO1xuICAgIGxldCBwcm9maWxlVGV4dCA9IFwiXCI7XG5cbiAgICBpZiAoYXZlcmFnZVNjb3JlID49IDIuNSkge1xuICAgICAgcHJvZmlsZVRleHQgPSBcIkFsdG8gUGFkcsOjbyAoQ2xpZW50ZSBQcmVtaXVtKVwiO1xuICAgIH0gZWxzZSBpZiAoYXZlcmFnZVNjb3JlID49IDEuOCkge1xuICAgICAgcHJvZmlsZVRleHQgPSBcIk3DqWRpbyBQYWRyw6NvIChDbGllbnRlIEVxdWlsaWJyYWRvKVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9maWxlVGV4dCA9IFwiQmFpeG8gUGFkcsOjbyAoQ2xpZW50ZSBQb3RlbmNpYWwpXCI7XG4gICAgfVxuXG4gICAgLy8gVGVtcGxhdGUgZG8gZW1haWxcbiAgICBjb25zdCBlbWFpbEh0bWwgPSBgXG4gICAgICA8ZGl2IHN0eWxlPVwiZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyBtYXgtd2lkdGg6IDYwMHB4OyBtYXJnaW46IDAgYXV0bztcIj5cbiAgICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM1QzJDMUQsICM3QTM3MjYpOyBwYWRkaW5nOiAzMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XG4gICAgICAgICAgPGgxIHN0eWxlPVwiY29sb3I6IHdoaXRlOyBtYXJnaW46IDA7IGZvbnQtc2l6ZTogMjhweDtcIj5Ob3ZvIExlYWQgLSBRdWl6IEF0ZW5lbzwvaDE+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBzdHlsZT1cInBhZGRpbmc6IDMwcHg7IGJhY2tncm91bmQ6ICNmOWY5Zjk7XCI+XG4gICAgICAgICAgPGgyIHN0eWxlPVwiY29sb3I6ICM1QzJDMUQ7IG1hcmdpbi1ib3R0b206IDIwcHg7XCI+8J+TiyBEYWRvcyBkbyBDbGllbnRlPC9oMj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogd2hpdGU7IHBhZGRpbmc6IDIwcHg7IGJvcmRlci1yYWRpdXM6IDhweDsgbWFyZ2luLWJvdHRvbTogMjBweDtcIj5cbiAgICAgICAgICAgIDxwPjxzdHJvbmc+Tm9tZTo8L3N0cm9uZz4gJHtuYW1lfTwvcD5cbiAgICAgICAgICAgIDxwPjxzdHJvbmc+RW1haWw6PC9zdHJvbmc+ICR7ZW1haWx9PC9wPlxuICAgICAgICAgICAgPHA+PHN0cm9uZz5UZWxlZm9uZTo8L3N0cm9uZz4gJHtwaG9uZX08L3A+XG4gICAgICAgICAgICA8cD48c3Ryb25nPlBlcmZpbCBJZGVudGlmaWNhZG86PC9zdHJvbmc+IDxzcGFuIHN0eWxlPVwiY29sb3I6ICM1QzJDMUQ7IGZvbnQtd2VpZ2h0OiBib2xkO1wiPiR7cHJvZmlsZVRleHR9PC9zcGFuPjwvcD5cbiAgICAgICAgICAgIDxwPjxzdHJvbmc+U2NvcmUgTcOpZGlvOjwvc3Ryb25nPiAke2F2ZXJhZ2VTY29yZS50b0ZpeGVkKDIpfS8zLjA8L3A+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8aDIgc3R5bGU9XCJjb2xvcjogIzVDMkMxRDsgbWFyZ2luLWJvdHRvbTogMjBweDtcIj7wn5OKIFJlc3Bvc3RhcyBEZXRhbGhhZGFzPC9oMj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogd2hpdGU7IHBhZGRpbmc6IDIwcHg7IGJvcmRlci1yYWRpdXM6IDhweDtcIj5cbiAgICAgICAgICAgIDxwcmUgc3R5bGU9XCJ3aGl0ZS1zcGFjZTogcHJlLXdyYXA7IGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsgZm9udC1zaXplOiAxNHB4OyBsaW5lLWhlaWdodDogMS42O1wiPiR7YW5zd2Vyc0Zvcm1hdHRlZH08L3ByZT5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kOiAjNUMyQzFEOyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDIwcHg7IGJvcmRlci1yYWRpdXM6IDhweDsgbWFyZ2luLXRvcDogMjBweDsgdGV4dC1hbGlnbjogY2VudGVyO1wiPlxuICAgICAgICAgICAgPGgzIHN0eWxlPVwibWFyZ2luOiAwIDAgMTBweCAwO1wiPvCfjq8gUmVjb21lbmRhw6fDo28gZGUgQWJvcmRhZ2VtPC9oMz5cbiAgICAgICAgICAgIDxwIHN0eWxlPVwibWFyZ2luOiAwOyBmb250LXNpemU6IDE2cHg7XCI+XG4gICAgICAgICAgICAgICR7XG4gICAgICAgICAgICAgICAgcHJvZmlsZSA9PT0gXCJhbHRvXCJcbiAgICAgICAgICAgICAgICAgID8gXCJDbGllbnRlIGNvbSBhbHRvIHBvdGVuY2lhbCEgUHJpb3JpemUgY29uc3VsdG9yaWEgcHJlbWl1bSBlIHBlw6dhcyBleGNsdXNpdmFzLlwiXG4gICAgICAgICAgICAgICAgICA6IHByb2ZpbGUgPT09IFwibWVkaW9cIlxuICAgICAgICAgICAgICAgICAgPyBcIkNsaWVudGUgZXF1aWxpYnJhZG8uIEZvcXVlIGVtIHF1YWxpZGFkZSBjb20gYm9tIGN1c3RvLWJlbmVmw61jaW8uXCJcbiAgICAgICAgICAgICAgICAgIDogXCJDbGllbnRlIHBvdGVuY2lhbC4gQXByZXNlbnRlIG9ww6fDtWVzIGFjZXNzw612ZWlzIGUgaW5zcGlyZSBncmFkdWFsbWVudGUuXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kOiAjMmMyYzJjOyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDIwcHg7IHRleHQtYWxpZ246IGNlbnRlcjtcIj5cbiAgICAgICAgICA8cCBzdHlsZT1cIm1hcmdpbjogMDtcIj5BdGVuZW8gSW50ZXJpb3JlcyAtIFNpc3RlbWEgZGUgUXVpejwvcD5cbiAgICAgICAgICA8cCBzdHlsZT1cIm1hcmdpbjogNXB4IDAgMCAwOyBmb250LXNpemU6IDEycHg7IG9wYWNpdHk6IDAuODtcIj5Qcm9jZXNzYWRvIGVtICR7bmV3IERhdGUoKS50b0xvY2FsZVN0cmluZyhcbiAgICAgICAgICAgIFwicHQtQlJcIlxuICAgICAgICAgICl9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG5cbiAgICAvLyBQcmVwYXJhciBkYWRvcyBwYXJhIEdvb2dsZSBTaGVldHNcbiAgICBjb25zdCBzaGVldHNEYXRhID0ge1xuICAgICAgbmFtZSxcbiAgICAgIGVtYWlsLFxuICAgICAgcGhvbmUsXG4gICAgICBwcm9maWxlOiBwcm9maWxlVGV4dCxcbiAgICAgIHF1aXpBbnN3ZXJzOiBxdWl6QW5zd2VycyxcbiAgICAgIHF1aXpTbmFwc2hvdDoge1xuICAgICAgICBhdmVyYWdlU2NvcmU6IGF2ZXJhZ2VTY29yZS50b0ZpeGVkKDIpLFxuICAgICAgICBwcm9maWxlVGV4dDogcHJvZmlsZVRleHQsXG4gICAgICAgIHRvdGFsU2NvcmU6IHRvdGFsU2NvcmUsXG4gICAgICB9LFxuICAgICAgY2xpZW50OiB7XG4gICAgICAgIHVzZXJBZ2VudDogcmVxdWVzdC5oZWFkZXJzLmdldChcInVzZXItYWdlbnRcIikgfHwgXCJVbmtub3duXCIsXG4gICAgICAgIGlwOlxuICAgICAgICAgIHJlcXVlc3QuaGVhZGVycy5nZXQoXCJ4LWZvcndhcmRlZC1mb3JcIikgfHxcbiAgICAgICAgICByZXF1ZXN0LmhlYWRlcnMuZ2V0KFwieC1yZWFsLWlwXCIpIHx8XG4gICAgICAgICAgXCJVbmtub3duXCIsXG4gICAgICB9LFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgfTtcblxuICAgIC8vIEZ1bsOnw7VlcyBkZSBlbnZpbyBwYXJhbGVsYXNcbiAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xuXG4gICAgLy8gMS4gRW52aWFyIGVtYWlsXG4gICAgaWYgKHByb2Nlc3MuZW52LlNNVFBfVVNFUiAmJiBwcm9jZXNzLmVudi5TTVRQX1BBU1MpIHtcbiAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgIHRyYW5zcG9ydGVyLnNlbmRNYWlsKHtcbiAgICAgICAgICBmcm9tOlxuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuU01UUF9GUk9NIHx8XG4gICAgICAgICAgICBcIlF1aXogQXRlbmVvIDxlbnZpb0BhdGVuZW9pbnRlcmlvcmVzLmNvbS5icj5cIixcbiAgICAgICAgICB0bzogcHJvY2Vzcy5lbnYuQURNSU5fRU1BSUwgfHwgXCJta3RAYXRlbmVvaW50ZXJpb3Jlcy5jb20uYnJcIixcbiAgICAgICAgICBzdWJqZWN0OiBg8J+OryBOb3ZvIExlYWQgLSAke3Byb2ZpbGVUZXh0fSAtICR7bmFtZX1gLFxuICAgICAgICAgIGh0bWw6IGVtYWlsSHRtbCxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gMi4gRW52aWFyIHBhcmEgR29vZ2xlIFNoZWV0cyAoc2UgY29uZmlndXJhZG8pXG4gICAgaWYgKHByb2Nlc3MuZW52LkdPT0dMRV9BUFBTX1NDUklQVF9VUkwpIHtcbiAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgIGZldGNoKHByb2Nlc3MuZW52LkdPT0dMRV9BUFBTX1NDUklQVF9VUkwsIHtcbiAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoc2hlZXRzRGF0YSksXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEV4ZWN1dGFyIGVudmlvcyBlbSBwYXJhbGVsb1xuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQocHJvbWlzZXMpO1xuXG4gICAgLy8gVmVyaWZpY2FyIHJlc3VsdGFkb3NcbiAgICBsZXQgZW1haWxTZW50ID0gZmFsc2U7XG4gICAgbGV0IHNoZWV0c1NlbnQgPSBmYWxzZTtcbiAgICBsZXQgZXJyb3JzID0gW107XG5cbiAgICByZXN1bHRzLmZvckVhY2goKHJlc3VsdCwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImZ1bGZpbGxlZFwiKSB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gMCkgZW1haWxTZW50ID0gdHJ1ZTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAxKSBzaGVldHNTZW50ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVycm9ycy5wdXNoKFxuICAgICAgICAgIGBFcnJvIG5vIGVudmlvICR7aW5kZXggPT09IDAgPyBcImVtYWlsXCIgOiBcIkdvb2dsZSBTaGVldHNcIn06ICR7XG4gICAgICAgICAgICByZXN1bHQucmVhc29uXG4gICAgICAgICAgfWBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIExvZyBwYXJhIGFuw6FsaXNlXG4gICAgY29uc29sZS5sb2coXCJMZWFkIHByb2Nlc3NhZG86XCIsIHtcbiAgICAgIG5hbWUsXG4gICAgICBlbWFpbCxcbiAgICAgIHBob25lLFxuICAgICAgcHJvZmlsZTogcHJvZmlsZVRleHQsXG4gICAgICBhdmVyYWdlU2NvcmUsXG4gICAgICBlbWFpbFNlbnQsXG4gICAgICBzaGVldHNTZW50LFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBlcnJvcnM6IGVycm9ycy5sZW5ndGggPiAwID8gZXJyb3JzIDogdW5kZWZpbmVkLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBtZXNzYWdlOiBcIkRhZG9zIGVudmlhZG9zIGNvbSBzdWNlc3NvIVwiLFxuICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgZW1haWxTZW50LFxuICAgICAgICAgIHNoZWV0c1NlbnQsXG4gICAgICAgICAgZXJyb3JzOiBlcnJvcnMubGVuZ3RoID4gMCA/IGVycm9ycyA6IHVuZGVmaW5lZCxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB7ICB9XG4gICAgKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJybyBhbyBwcm9jZXNzYXIgZm9ybXVsw6FyaW86XCIsIGVycm9yKTtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPVxuICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkVycm8gaW50ZXJubyBkbyBzZXJ2aWRvclwiO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6IGVycm9yTWVzc2FnZSB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCwgIH1cbiAgICApO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwibm9kZW1haWxlciIsIlBPU1QiLCJyZXF1ZXN0IiwiYm9keSIsImpzb24iLCJwYXJzZUVycm9yIiwiY29uc29sZSIsImVycm9yIiwic3RhdHVzIiwibG9nIiwibmFtZSIsImVtYWlsIiwicGhvbmUiLCJwcm9maWxlIiwicXVpekFuc3dlcnMiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJzbXRwUG9ydCIsInBhcnNlSW50IiwicHJvY2VzcyIsImVudiIsIlNNVFBfUE9SVCIsInRyYW5zcG9ydGVyIiwiY3JlYXRlVHJhbnNwb3J0IiwiaG9zdCIsIlNNVFBfSE9TVCIsInBvcnQiLCJzZWN1cmUiLCJhdXRoIiwidXNlciIsIlNNVFBfVVNFUiIsInBhc3MiLCJTTVRQX1BBU1MiLCJxdWVzdGlvbnNUZXh0Iiwib3B0aW9uc1RleHQiLCJhbnN3ZXJzRm9ybWF0dGVkIiwiZm9yRWFjaCIsInNjb3JlIiwiaW5kZXgiLCJ3YXJuIiwicXVlc3Rpb25UZXh0IiwiY3VycmVudE9wdGlvbnMiLCJzZWxlY3RlZE9wdGlvbiIsImZpbmQiLCJvcHQiLCJpbmNsdWRlcyIsInRvdGFsU2NvcmUiLCJyZWR1Y2UiLCJzdW0iLCJhdmVyYWdlU2NvcmUiLCJwcm9maWxlVGV4dCIsImVtYWlsSHRtbCIsInRvRml4ZWQiLCJEYXRlIiwidG9Mb2NhbGVTdHJpbmciLCJzaGVldHNEYXRhIiwicXVpelNuYXBzaG90IiwiY2xpZW50IiwidXNlckFnZW50IiwiaGVhZGVycyIsImdldCIsImlwIiwidGltZXN0YW1wIiwidG9JU09TdHJpbmciLCJwcm9taXNlcyIsInB1c2giLCJzZW5kTWFpbCIsImZyb20iLCJTTVRQX0ZST00iLCJ0byIsIkFETUlOX0VNQUlMIiwic3ViamVjdCIsImh0bWwiLCJHT09HTEVfQVBQU19TQ1JJUFRfVVJMIiwiZmV0Y2giLCJtZXRob2QiLCJKU09OIiwic3RyaW5naWZ5IiwicmVzdWx0cyIsIlByb21pc2UiLCJhbGxTZXR0bGVkIiwiZW1haWxTZW50Iiwic2hlZXRzU2VudCIsImVycm9ycyIsInJlc3VsdCIsInJlYXNvbiIsInVuZGVmaW5lZCIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwiZGV0YWlscyIsImVycm9yTWVzc2FnZSIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/submit-quiz/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/nodemailer","vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsubmit-quiz%2Froute&page=%2Fapi%2Fsubmit-quiz%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsubmit-quiz%2Froute.ts&appDir=%2Fhome%2Fclaiver%2Fprojetos%2Fquiz-ateneo%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fclaiver%2Fprojetos%2Fquiz-ateneo%2Fsrc&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();